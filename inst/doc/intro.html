<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">



<title>Introduction to iml: Interpretable Machine Learning in R</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>

</head>

<body>




<h1 class="title toc-ignore">Introduction to iml: Interpretable Machine Learning in R</h1>



<p>Machine learning models usually perform really well for predictions, but are not interpretable. The iml package provides tools for analysing any black box machine learning model:</p>
<ul>
<li><p>Feature importance: Which were the most important features?</p></li>
<li><p>Feature effects: How does a feature influence the prediction? (Accumulated local effects, partial dependence plots and individual conditional expectation curves)</p></li>
<li><p>Explanations for single predictions: How did the feature values of a single data point affect its prediction? (LIME and Shapley value)</p></li>
<li><p>Surrogate trees: Can we approximate the underlying black box model with a short decision tree?</p></li>
<li><p>The iml package works for any classification and regression machine learning model: random forests, linear models, neural networks, xgboost, etc.</p></li>
</ul>
<p>This document shows you how to use the iml package to analyse machine learning models.</p>
<p>If you want to learn more about the technical details of all the methods, read chapters from: <a href="https://christophm.github.io/interpretable-ml-book/agnostic.html" class="uri">https://christophm.github.io/interpretable-ml-book/agnostic.html</a></p>
<div id="data-boston-housing" class="section level2">
<h2>Data: Boston Housing</h2>
<p>We’ll use the <code>MASS::Boston</code> dataset to demonstrate the abilities of the iml package. This dataset contains median house values from Boston neighbourhoods.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">data</span>(<span class="st">&quot;Boston&quot;</span>, <span class="dt">package  =</span> <span class="st">&quot;MASS&quot;</span>)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">head</span>(Boston)</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">#&gt;      crim zn indus chas   nox    rm  age    dis rad tax ptratio  black</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">#&gt; 1 0.00632 18  2.31    0 0.538 6.575 65.2 4.0900   1 296    15.3 396.90</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">#&gt; 2 0.02731  0  7.07    0 0.469 6.421 78.9 4.9671   2 242    17.8 396.90</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co">#&gt; 3 0.02729  0  7.07    0 0.469 7.185 61.1 4.9671   2 242    17.8 392.83</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">#&gt; 4 0.03237  0  2.18    0 0.458 6.998 45.8 6.0622   3 222    18.7 394.63</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co">#&gt; 5 0.06905  0  2.18    0 0.458 7.147 54.2 6.0622   3 222    18.7 396.90</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co">#&gt; 6 0.02985  0  2.18    0 0.458 6.430 58.7 6.0622   3 222    18.7 394.12</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co">#&gt;   lstat medv</span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="co">#&gt; 1  4.98 24.0</span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="co">#&gt; 2  9.14 21.6</span></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="co">#&gt; 3  4.03 34.7</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="co">#&gt; 4  2.94 33.4</span></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="co">#&gt; 5  5.33 36.2</span></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="co">#&gt; 6  5.21 28.7</span></a></code></pre></div>
</div>
<div id="fitting-the-machine-learning-model" class="section level2">
<h2>Fitting the machine learning model</h2>
<p>First we train a randomForest to predict the Boston median housing value:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">set.seed</span>(<span class="dv">42</span>)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">library</span>(<span class="st">&quot;iml&quot;</span>)</a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw">library</span>(<span class="st">&quot;randomForest&quot;</span>)</a>
<a class="sourceLine" id="cb2-4" title="4"><span class="kw">data</span>(<span class="st">&quot;Boston&quot;</span>, <span class="dt">package  =</span> <span class="st">&quot;MASS&quot;</span>)</a>
<a class="sourceLine" id="cb2-5" title="5">rf =<span class="st"> </span><span class="kw">randomForest</span>(medv <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> Boston, <span class="dt">ntree =</span> <span class="dv">50</span>)</a></code></pre></div>
</div>
<div id="using-the-iml-predictor-container" class="section level2">
<h2>Using the iml Predictor() container</h2>
<p>We create a <code>Predictor</code> object, that holds the model and the data. The iml package uses R6 classes: New objects can be created by calling <code>Predictor$new()</code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">X =<span class="st"> </span>Boston[<span class="kw">which</span>(<span class="kw">names</span>(Boston) <span class="op">!=</span><span class="st"> &quot;medv&quot;</span>)]</a>
<a class="sourceLine" id="cb3-2" title="2">predictor =<span class="st"> </span>Predictor<span class="op">$</span><span class="kw">new</span>(rf, <span class="dt">data =</span> X, <span class="dt">y =</span> Boston<span class="op">$</span>medv)</a></code></pre></div>
</div>
<div id="feature-importance" class="section level2">
<h2>Feature importance</h2>
<p>We can measure how important each feature was for the predictions with <code>FeatureImp</code>. The feature importance measure works by shuffling each feature and measuring how much the performance drops. For this regression task we choose to measure the loss in performance with the mean absolute error (‘mae’), another choice would be the mean squared error (‘mse’).</p>
<p>Once we create a new object of <code>FeatureImp</code>, the importance is automatically computed. We can call the <code>plot()</code> function of the object or look at the results in a data.frame.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">imp =<span class="st"> </span>FeatureImp<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">loss =</span> <span class="st">&quot;mae&quot;</span>)</a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">plot</span>(imp)</a></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">imp<span class="op">$</span>results</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="co">#&gt;    feature importance.05 importance importance.95 permutation.error</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">#&gt; 1    lstat     3.5151359   4.676265      5.437770          4.608501</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="co">#&gt; 2       rm     3.1371920   3.431800      4.718858          3.382070</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="co">#&gt; 3      nox     1.6552825   1.747307      1.810610          1.721987</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="co">#&gt; 4      dis     1.5567997   1.686769      1.738094          1.662326</span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="co">#&gt; 5     crim     1.5783742   1.685566      1.756046          1.661141</span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="co">#&gt; 6  ptratio     1.3369138   1.479399      1.535624          1.457961</span></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="co">#&gt; 7    indus     1.3836497   1.470185      1.500201          1.448881</span></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="co">#&gt; 8      tax     1.3379611   1.412848      1.469469          1.392375</span></a>
<a class="sourceLine" id="cb5-11" title="11"><span class="co">#&gt; 9      age     1.2917620   1.362113      1.449696          1.342375</span></a>
<a class="sourceLine" id="cb5-12" title="12"><span class="co">#&gt; 10   black     1.1216054   1.152142      1.264655          1.135446</span></a>
<a class="sourceLine" id="cb5-13" title="13"><span class="co">#&gt; 11     rad     1.0612629   1.090473      1.094276          1.074671</span></a>
<a class="sourceLine" id="cb5-14" title="14"><span class="co">#&gt; 12    chas     0.9730407   1.044441      1.069104          1.029306</span></a>
<a class="sourceLine" id="cb5-15" title="15"><span class="co">#&gt; 13      zn     0.9521757   1.031062      1.138586          1.016121</span></a></code></pre></div>
</div>
<div id="feature-effects" class="section level2">
<h2>Feature effects</h2>
<p>Besides knowing which features were important, we are interested in how the features influence the predicted outcome. The <code>FeatureEffect</code> class implements accumulated local effect plots, partial dependence plots and individual conditional expectation curves. The following plot shows the accumulated local effects (ALE) for the feature ‘lstat’. ALE shows how the prediction changes locally, when the feature is varied. The marks on the x-axis indicates the distribution of the ‘lstat’ feature, showing how relevant a region is for interpretation (little or no points mean that we should not over-interpret this region).</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">ale =<span class="st"> </span>FeatureEffect<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">feature =</span> <span class="st">&quot;lstat&quot;</span>)</a>
<a class="sourceLine" id="cb6-2" title="2">ale<span class="op">$</span><span class="kw">plot</span>()</a>
<a class="sourceLine" id="cb6-3" title="3"><span class="co">#&gt; Warning in grid.Call.graphics(C_segments, x$x0, x$y0, x$x1, x$y1, x$arrow):</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="co">#&gt; semi-transparency is not supported on this device: reported only once per</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="co">#&gt; page</span></a></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>If we want to compute the partial dependence curves on another feature, we can simply reset the feature:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">ale<span class="op">$</span><span class="kw">set.feature</span>(<span class="st">&quot;rm&quot;</span>)</a>
<a class="sourceLine" id="cb7-2" title="2">ale<span class="op">$</span><span class="kw">plot</span>()</a>
<a class="sourceLine" id="cb7-3" title="3"><span class="co">#&gt; Warning in grid.Call.graphics(C_segments, x$x0, x$y0, x$x1, x$y1, x$arrow):</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="co">#&gt; semi-transparency is not supported on this device: reported only once per</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="co">#&gt; page</span></a></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAKgCAMAAABz4j/3AAAAD1BMVEUAAAAzMzNNTU3r6+v///+EK80uAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAWKElEQVR4nO2di3YbORLFOkr+/5tnkji2pasH2d0kQQq1m1lvzuCgRMMtyw9p++U44NlGL+A4z8ZAHfQYqIMeA3XQY6AOegzUQU9loD/vzoO/fjG7qH6Q+41QfUJFgV7+/vNyMVAetKaqJtCPMC+fpRooCVpTtecKaqBIaE3VvkC9iwdCa6p2BfrxPz/+n2f/tuOcPyUPkr79zYkfK16hjkFrqnZcQb/3aaAcaE2VgRJV9P3ggV6+fSH0xFUM4Bi0pqou0JwTVzGAY9CaKgMlquj7GSgRcr8RKgMlquj7GSgRcr8RKgMlquj7GSgRcr8RKgMlquj7GSgRcr8RKgMlquj7GSgRcr8RKgMlquj7GSgRcr8RKgMlquj7GSgRcr8RKgMlquj7GSgRcr8RKgMlquj7GSgRcr+Wqu0VZKAgFX2/01Xboz4NFKmi73ey6nGeBspU0fc7U7U9y9NAmSr6fuepntf500CZKvp+J6leXDyvIQMFqej7naIqydNAmSr6fieoiur8aaBMFX2/o6qyi+c1ZKAgFX2/Y6qKPA2UqaLvd0RVU+dPA2Wq6PvtVlVdPK9NBgpS0ffbqaqu86eBMlX0/XZRe/I0UKaKvl899fu+/dh+BgpS0ferpf5ePA20LeR++6jPB0YG2hZyvz3Ut8ftBtoWcr966uqBkYG2hdyvkrr9oqeBtoXcr4rKr8kbaFvI/Sqoe1/0NNC2kPuVUg++oWmgbSH3K6Mefr/dQNtC7ldCPfmGpoG2hdzvJfX8h5UMtC3kfi+oVz8NYqBtIfd7Sr3+YSUDbQu532Oq6AeRDbQt5H6PqMKf9DTQtpD73aXKf4vDQNtC7neHqvklIwNtC7lfUHW/xWGgbSH3u6aqf0PTQNtC7vedqv8FYgNtDLnf1+z6DU0DbQu538f8f/EccBQGClKR9/tz326gQMj9fn7etxsoEHK/rwdGBgqE3n2/7w+MDBQIvfd+14/bDRQIvfF+8UVPAwVCb7vfnS96GigQes/97n/HyECB0Dvu9+gbmgYKhN5vv4KXeD1L9RoyUJCKsN/TnwYxUCD0VvuVvsTrCapCyEBBqtH7lb/E62FVMWSgINXQ/ape4vWYqgYyUJBq4H5lP+lpoEDoHfarfonX/apayEBBqkH77XiJ172qeshAQapRgfZT1UMGClIZaEIGClKN2W/Pi2TvVO2AdgbqrDNzvOu9ggJUXkETMlCQykATMlCQash+Nc/FYKBAaPX9DLTtDWgOrb6fgba9Ac2h1fcz0LY3oDm0+H4dn+pzF2SgIJWBJmSgIJWBJmSgIJWBJmSgINWA/Xo+3fwuyEBBqhGB9lPtgwwUpDLQhAwUpDLQhAwUpDLQhAwUpOq/X9eXPNoFGShIZaAJGShIZaAJGShIZaAJGShI1X2/2heOM1AgtPJ+Btr+BjSHVt7PQNvfgObQyvsZaPsb0BxaeL/Or6y9CzJQkMpAEzJQkMpAEzJQkMpAEzJQkMpAEzJQkKrzftV9GigRWnc/A+1xA5pD6+5noD1uQHNo3f0MtMcNaA4tu199nwZKhJbdz0C73IDm0LL7GWiXG9AcWnY/A+1yA5pDq+63o08DJUKr7megfW5Ac2jV/Qy0zw1oDq26n4H2uQHNoUX3q3tau0OqQ5CBglRdA+2nOgQZKEhloAkZKEhloAkZKEhloAkZKEjVcb9dfRooEVpzPwPtdQOaQ2vuZ6C9bkBzaM39DLTXDWgOLbnfNs1RGChIZaAJGShIZaAJGShIZaAJGShI1W2/bZ6jMFCQykATMlCQykATMlCQykATMlCQykATMlCQqtd+20RHYaAglYEmZKAglYEmZKAglYEmZKAgVaf9tn6q45CBglQGmpCBglQGmpCBglQGmpCBglR99tv6qU6ADBSkMtCEDBSkMtCEDBSkMtCEDBSk6rLfZqBdb0BzaLX9tn6qMyADBakMNCEDBakMNCEDBakMNKGKQC+Xi4HyoEpq66c6BSoP9PLxx0BZkIEaKBoy0M9CvYsnQgbqFRQN1VH/nnZxmqPYEeiP/+f19dZBTuVXazjjFRSg8gqakIGCVAaaUHmgPkhiQlXU5zN/T3MUFYF+nxNXWSqAAZCBGigaMlADRUMGaqBoyEANFA3VUF+vjjTNURgoSGWgCRkoSGWgCRkoSGWgCRkoSNV6v28v0DnNURgoSGWgCRkoSGWgCRkoSGWgCRkoSNV4v++vET/NURgoSGWgCRkoSGWgCRkoSGWgCRkoSNV2v81Ap7nVUFXjQPupToQMFKQy0IQMFKQy0IQMFKQy0IQMFKRqut9Vn/MchYGCVAaakIGCVAaakIGCVAaakIGCVC33u+5znqMwUJDKQBMyUJDKQBMyUJDKQBMyUJCq4X43fc5zFAYKUhloQgYKUhloQgYKUhloQgYKUhloQgYKUrXb77bPeY7CQEEqA03IQEEqA03IQEEqA03IQEGqZvtFn/MchYGCVAaakIGCVAaakIGCVAaakIGCVK32yz7nOQoDBakMNCEDBakMNCEDBakMNCEDBaka7bcZ6JFV5g9gLFQQaD/V+ZCBglQGmpCBglQGmpCBglQGmpCBglRt9rvX5zxHYaAglYEmZKAglYEmZKAglYEmZKAgVZP97vY5z1EYKEhloAkZKEhloAkZKEhloAkZKEjVYr/7fc5zFAYKUhloQgYKUhloQgYKUhloQgYKUhloQgYKUjXY70Gf8xyFgYJUBpqQgYJUBpqQgYJUBpqQgYJU5+/3qM95jsJAQSoDTchAQSoDTchAQSoDTchAQarT93vY5zxHYaAglYEmZKAglYEmZKAglYEmtDNQZ4bZFnqvegUFqM7e7/EFdJ6jMFCQykATMlCQykATMlCQykATMlCQ6uT9nvQ5z1EYKEhloAkZKEhloAkZKEhloAkZKEh17n7P+pznKAwUpDLQhAwUpDLQhAwUpDLQhAwUpDp1v6d9znMUBgpSGWhCBgpSGWhCBgpSGWhCBgpSGWhCBgpSnbnf8z7nOQoDBakMNCEDBakMNCEDBakMNCEDBalO3O9Fn/MchYGCVAaakIGCVAaakIGCVAaakIGCVOft96rPeY7CQEEqA03IQEEqA03IQEEqA03IQEGq0/bbDPS8VWYMgATdDbSfqjVkoCCVgSZkoCCVgSZkoCCVgSZkoCDVWfu97nOeozBQkMpAEzJQkMpAEzJQkMpAE8pAi1675MRVJgwABSVV0Oc8R3HnCrptrxs9cZX5AmBB7xfoR6QG2l1loAndD3T7OwbaV2WgCd0J9DNNA+2sOme/kj7nOYoMtOjx/ImrTBcADHq7QIvmxFWmCwAGvWmgPkgaoDLQhLyCglSn7FfU5zxHYaAglYEmZKAglYEmZKAg1Rn7vf51pNNUXaCbQDe/zDRQdUqg/VRdoNtAv8ZAu6sMNKGbQH95BR2oMtCEqrI0UCB0TRX2Oc9R3Av09T28gXKgtwv0b5t+DjpAZaAJ3Qk0L6kGCoauqNI+5zkKAwWpDDShO4F6Fz9KZaAJZaBFv5R04ipTBQCE3jDQgjlxlakCAELfqeI+5zkKAwWpDDQhAwWpDDQhAwWpju5X3uc8R3ET6Hb9DwPtqjLQhAwUpDLQhAwUpDq4X0Wf8xyFgYJUBpqQgYJUBprQbaD+RP1AlYEmdBNo6Zy4yjwBMKFPqqbPeY7CQEEqA03oYaDexfdXGWhCBgpSHdqvqs95jqIq0IuB8iAD/erTQIHQewX67MtMF6+gROiDKnzKmzNUXaFn9+gG2ll1KNB+qq7Qo0DzCnrxc1Ak9I6B3ruHv/z6F+iP/+f19dbpO5VfyJ5uPm/fo+9zXv7Mv/934sfKJFcoLPSXqryAznMUN4F+tPngw9G7eCD0doFuBjpKZaAJxV18yVOHGSgI+kPV9jnPUWSg3y6kBtpXZaAJ3Q/03l8YKBN610Cfz4mrTBEAGPpNVX4b6YiqN2SgINX+QPupekMGClIZaEIGClIZaEIGClLt3a++z3mOwkBBKgNNyEBBKgNNyEBBqp377ehznqMwUJDKQBMyUJDKQBMyUJDKQBMyUJBq3357+pznKAwUpDLQhAwUpDLQhAwUpNoFbWsfhYGCVAaakIGCVAaakIGCVHugbfGjMFCQykATMlCQykATMlCQykATMlCQage0rX4UBgpSGWhCBgpSGWhCBgpS1UNbP9VuykDbQuj9DNRA0fsZqIGS99sM1EDJ+239VPspA20LkfczUANF72egBkreb+unOkAZaFsIvJ+BGmhXlYEmZKAgVSW09VMdoQy0LcTdz0ANtK/KQBMyUJDKQBMyUJCqDvr3hA1rH4WBglQGmpCBglQGmpCBglQGmpCBglRV0Odzhq19FAYKUhloQgYKUhloQgYKUhloQgYKUtVAX09bu/ZRGChIZaAJGShIZaAJGShIVQF9e2L6tY/CQEEqA03IQEEqA03IQEEqA03IQEGqcuj7ayOtfRQGClIZaEIGClIZaEIGClIZaEIGClIVQ1cvz7n2URgoSGWgCRkoSGWgCRkoSGWgCRkoSFUKXb9C/NpHYaAglYEmZKAglYEmZKAgVSG0GaiBDlGVBtpPdQZloG0h3n4GaqBjVAaakIGCVGXQTZ+LH4WBglQGmpCBglQGmpCBglQGmpCBglRF0G2fix/FzkCdYfOm7ymvoACVV9CEDBSkMtCEDBSkKoGiz8WPwkBBKgNNyEBBKgNNyEBBqgJoM1ADHaYqCbSf6izKQNtCrP0M1EDHqQw0IQMFqV5Dd/pc/CgMFKQy0IQMFKQy0IQMFKQy0IQMFKR6Cd3rc/GjMFCQykATMlCQykATMlCQykATMlCQ6hV0t8/Fj8JAQSoDTchAQSoDTchAQSoDTchAQaoX0P0+Fz8KAwWpDDQhAwWpDDQhAwWpnkMP+lz8KAwUpDLQhAwUpDLQhAwUpDLQhAwUpHoKPepz8aMwUJDKQBMyUJDKQBMyUJDKQBMyUJDqGfSwz8WPwkBBKgNNyEBBKgNNyEBBKgNNyEBBqifQ4z4XPwoDBakMNCEDBakeQ3eet7aV6nTKQNtCiP2e9Ln4URgoSGWgCRkoSPUQetbn4kdhoCCVgSZkoCDVI+hpn4sfhYGCVAaakIGCVA+g530ufhQGClIZaEIGClLdh170ufhRGChIZaAJGShIdRd61efiR2GgIJWBJmSgINU96GWfix+FgYJUBpqQgYJUd6DXfS5+FAYKUhloQgYKUiVU0OfiR2GgIJWBJmSgIFVAJX0ufhQGClIZaEIGClLdQkV9Ln4UBgpSGWhCBgpS3UBlfS5+FAYKUhloQgYKUl1Dz56s4WRVU8pA20LjAu2nakoZaFvIQEeoDJSouoJK+1z8KAwUpDLQhAwUpDLQhAwUpDLQhAwUpPoOFfe5+FEYKEhloAkZKEhloAkZKEhloAkZKEj1DSrvc/GjqAj0crkYaC/IQP+9URzo5eOPgfaADPTfGwbKURloQgYKUn1BFX0ufhQ7Av3x/7z8t51DU/mY9Q3GKyhA5RU0IQMFqT6hmj4XPwoDBakMNKHyQP06aD/IQP1OElFloAkZKEj1D6rqc+2jMFCSykATMlCQykATMlCQykATMlCQ6gOq63PpozBQlMpAEzJQkMpAEzJQkMpAEzJQkOovVNnnykfx00BRKgNNyEBBKgNNyEBBqj9QbZ8LH8WfNwyUozLQhAwUpDLQhAwUpDLQhAwUpPoNVfe57lH8fcNAOSoDTchAQSoDTchAQSoDTchAQapfe/pc9ig+3jBQjspAEzJQkMpAEzJQkMpAEzJQkOrXnj5XPYp/bxgoR2WgCRkoSPVrT5+LHsXnGwbKURloQgYKUu3qc82jMFCgaoPvZ6BIqJtqM9A7kIFiVBt8v64qA8WpNvh+fVUGSlNtBnoXMlCIattrWu8oriADZai23abljuIaMlCEattvWu0obiADRagM9BFkoADVth0wrXUUARnoaNW2fX6HE7nfGJWBMlTf6txrWuUoHkAGOlC13fx0CG2/gSoDHa+6zZO231CVgY5WZZ6s/QarDHScavszp5lmPooCyEB7qh6mecA06VGUQgbaUfXqJ+ZH7wdSGWh/1bNr5wHTjEdRARloL9XrPvHnZ6BE6CRVQZ/48zNQInSOqugXNunnZ6BE6BRV2S8U08/PQInQGarCX3inn5+BEiEDHaEy0J6q0mcMoZ+fgRKh46riZ7Shn5+BEiEDHaEy0H6q8qcEo5+fgRKho6qKp6yjn5+BEiEDHaEy0F6qmuf8pJ+fgRKhY6qq56Sln5+BEiEDHaEy0D6quif1pp+fgRKhI6rKJ52nn5+BEiEDHaEy0B6q2lftoJ+fgRKh/arqV5Whn5+BEiEDHaEy0Paq+pflop+fgRKhvapeL6w9wVEcgQy0lcpAT4EMtJGq2wtr84/iEGSgbah+r1uMPwoDbQvtoXa+7Cb9/CYK1Hk2m6d5+ngFPY/a/aJx9POb6Ap64iqrBbrtf9E4+vkZKBGqob6en5a53zwqAz2funryZOB+U6kM9Gzq5ukVcftNpmoa6ItnYj/3BjSHSqi8vaz95lO1v4Jun9P2BjSHXlJ3byJovylVPe/iX6U6daCPbhVlv1lVYz4HvZ/qxIE+vn9g7DevavSDpO+pzhro+S95RK/mjQL9muJPVY+rTnyvvFx4yWreMtDrx/7FqQ58r8Ae+a2pAgb6NSWpDnqvzPABtIQKHejXPE51xHul5hORJasx0Mdzm2r390rlZ8lLVmOgBVP3qeoR0zeq3rZkNQZaBdWnunO/PR8MS1ZjoDuh0lR3fhlsB7VmNQZ6GHqearVp6m8kTK1aNdCvuVdq9We7O6hdqiPQmqr1A/2cbxfVCtO3sg10gOqNAv2a4kdVR6673aE1VW8Z6PWX3B+mevu3BjpA9eaBfs1tqkO/aUU/PwMdCT28okL2ey+VgRJV9P0MlAi53wiVgRJV9P0MlAi53wiVgRJV9P0MlAi53wiVgRJV9P0MlAi53wiVgRJV9P0MlAi53wiVgRJV9P0MlAi53wiVgRJV9P0MlAi53wiVgRJV9P0MlAi53wiVgRJV9P0MlAi53wiVgRJV9P0MlAi53wiVgRJV9P0MlAi53wiVgRJV9P0MlAi53wiVgRJV9P0MlAi53wiVgRJV9P0mCvTM+bGgSdXZJgNVRVIZqCq0ykBVoVWkQB3n9Riogx4DddAzMNBLL8/v6efqJlrvRt1TjQu03/l28nyo+ul6fSwMVQ0L9NLvCtrJ01fV8R6on+tNA+14Z9jvfqHjR0PP88MEeul7uen2mWHfC1s30biLyaBA+36ytuKna2sGmqpRgXZ8FDr2c6imrm6itwv097zHJ/ktVf1Mb/ggaclP8js/nuiles+vgzpOwRiogx4DddBjoA56DNRBj4E66DFQBz0G6qDHQB30GKiDHgNtOdvf//z5r7NrPLiW87vLjz8e9L7x3FrO9vXHg943nlvLMdDD47m1HAM9PJ5byzHQw+O5tRwDPTyeW8sx0MPjuTnoMVAHPQbqoMdAHfQYqIMeA3XQY6AOegzUQY+BOugxUAc9Buqgx0Ad9PwHRS3bS5KvgSEAAAAASUVORK5CYII=" style="display: block; margin: auto;" /></p>
</div>
<div id="measure-interactions" class="section level2">
<h2>Measure interactions</h2>
<p>We can also measure how strongly features interact with each other. The interaction measure regards how much of the variance of <span class="math inline">\(f(x)\)</span> is explained by the interaction. The measure is between 0 (no interaction) and 1 (= 100% of variance of <span class="math inline">\(f(x)\)</span> due to interactions). For each feature, we measure how much they interact with any other feature:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">interact =<span class="st"> </span>Interaction<span class="op">$</span><span class="kw">new</span>(predictor)</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw">plot</span>(interact)</a></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>We can also specify a feature and measure all it’s 2-way interactions with all other features:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1">interact =<span class="st"> </span>Interaction<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">feature =</span> <span class="st">&quot;crim&quot;</span>)</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="kw">plot</span>(interact)</a></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>You can also plot the feature effects for all features at once:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1">effs =<span class="st"> </span>FeatureEffects<span class="op">$</span><span class="kw">new</span>(predictor)</a>
<a class="sourceLine" id="cb10-2" title="2"><span class="kw">plot</span>(effs)</a>
<a class="sourceLine" id="cb10-3" title="3"><span class="co">#&gt; Warning in grid.Call.graphics(C_segments, x$x0, x$y0, x$x1, x$y1, x$arrow):</span></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="co">#&gt; semi-transparency is not supported on this device: reported only once per</span></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="co">#&gt; page</span></a></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="surrogate-model" class="section level2">
<h2>Surrogate model</h2>
<p>Another way to make the models more interpretable is to replace the black box with a simpler model - a decision tree. We take the predictions of the black box model (in our case the random forest) and train a decision tree on the original features and the predicted outcome. The plot shows the terminal nodes of the fitted tree. The maxdepth parameter controls how deep the tree can grow and therefore how interpretable it is.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">tree =<span class="st"> </span>TreeSurrogate<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">maxdepth =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb11-2" title="2"><span class="kw">plot</span>(tree)</a></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>We can use the tree to make predictions:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">head</span>(tree<span class="op">$</span><span class="kw">predict</span>(Boston))</a>
<a class="sourceLine" id="cb12-2" title="2"><span class="co">#&gt; Warning in self$predictor$data$match_cols(data.frame(newdata)): Dropping</span></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="co">#&gt; additional columns: medv</span></a>
<a class="sourceLine" id="cb12-4" title="4"><span class="co">#&gt;     .y.hat</span></a>
<a class="sourceLine" id="cb12-5" title="5"><span class="co">#&gt; 1 27.09989</span></a>
<a class="sourceLine" id="cb12-6" title="6"><span class="co">#&gt; 2 27.09989</span></a>
<a class="sourceLine" id="cb12-7" title="7"><span class="co">#&gt; 3 27.09989</span></a>
<a class="sourceLine" id="cb12-8" title="8"><span class="co">#&gt; 4 27.09989</span></a>
<a class="sourceLine" id="cb12-9" title="9"><span class="co">#&gt; 5 27.09989</span></a>
<a class="sourceLine" id="cb12-10" title="10"><span class="co">#&gt; 6 27.09989</span></a></code></pre></div>
</div>
<div id="explain-single-predictions-with-a-local-model" class="section level2">
<h2>Explain single predictions with a local model</h2>
<p>Global surrogate model can improve the understanding of the global model behaviour. We can also fit a model locally to understand an individual prediction better. The local model fitted by <code>LocalModel</code> is a linear regression model and the data points are weighted by how close they are to the data point for wich we want to explain the prediction.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1">lime.explain =<span class="st"> </span>LocalModel<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">x.interest =</span> X[<span class="dv">1</span>,])</a>
<a class="sourceLine" id="cb13-2" title="2"><span class="co">#&gt; Loading required package: glmnet</span></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="co">#&gt; Loading required package: Matrix</span></a>
<a class="sourceLine" id="cb13-4" title="4"><span class="co">#&gt; Loading required package: foreach</span></a>
<a class="sourceLine" id="cb13-5" title="5"><span class="co">#&gt; Loaded glmnet 2.0-16</span></a>
<a class="sourceLine" id="cb13-6" title="6"><span class="co">#&gt; Loading required package: gower</span></a>
<a class="sourceLine" id="cb13-7" title="7">lime.explain<span class="op">$</span>results</a>
<a class="sourceLine" id="cb13-8" title="8"><span class="co">#&gt;               beta x.recoded    effect x.original feature feature.value</span></a>
<a class="sourceLine" id="cb13-9" title="9"><span class="co">#&gt; rm       4.4836483     6.575 29.479987      6.575      rm      rm=6.575</span></a>
<a class="sourceLine" id="cb13-10" title="10"><span class="co">#&gt; ptratio -0.5244767    15.300 -8.024493       15.3 ptratio  ptratio=15.3</span></a>
<a class="sourceLine" id="cb13-11" title="11"><span class="co">#&gt; lstat   -0.4348698     4.980 -2.165652       4.98   lstat    lstat=4.98</span></a>
<a class="sourceLine" id="cb13-12" title="12"><span class="kw">plot</span>(lime.explain)</a></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1">lime.explain<span class="op">$</span><span class="kw">explain</span>(X[<span class="dv">2</span>,])</a>
<a class="sourceLine" id="cb14-2" title="2"><span class="kw">plot</span>(lime.explain)</a></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="explain-single-predictions-with-game-theory" class="section level2">
<h2>Explain single predictions with game theory</h2>
<p>An alternative for explaining individual predictions is a method from coalitional game theory named Shapley value. Assume that for one data point, the feature values play a game together, in which they get the prediction as a payout. The Shapley value tells us how to fairly distribute the payout among the feature values.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1">shapley =<span class="st"> </span>Shapley<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">x.interest =</span> X[<span class="dv">1</span>,])</a>
<a class="sourceLine" id="cb15-2" title="2">shapley<span class="op">$</span><span class="kw">plot</span>()</a></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>We can reuse the object to explain other data points:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1">shapley<span class="op">$</span><span class="kw">explain</span>(<span class="dt">x.interest =</span> X[<span class="dv">2</span>,])</a>
<a class="sourceLine" id="cb16-2" title="2">shapley<span class="op">$</span><span class="kw">plot</span>()</a></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>The results in data.frame form can be extracted like this:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1">results =<span class="st"> </span>shapley<span class="op">$</span>results</a>
<a class="sourceLine" id="cb17-2" title="2"><span class="kw">head</span>(results)</a>
<a class="sourceLine" id="cb17-3" title="3"><span class="co">#&gt;   feature          phi     phi.var feature.value</span></a>
<a class="sourceLine" id="cb17-4" title="4"><span class="co">#&gt; 1    crim  0.013525423 0.874482129  crim=0.02731</span></a>
<a class="sourceLine" id="cb17-5" title="5"><span class="co">#&gt; 2      zn -0.002767333 0.008877569          zn=0</span></a>
<a class="sourceLine" id="cb17-6" title="6"><span class="co">#&gt; 3   indus -0.124345879 0.339132442    indus=7.07</span></a>
<a class="sourceLine" id="cb17-7" title="7"><span class="co">#&gt; 4    chas -0.030964772 0.016095088        chas=0</span></a>
<a class="sourceLine" id="cb17-8" title="8"><span class="co">#&gt; 5     nox  0.253107476 1.127586248     nox=0.469</span></a>
<a class="sourceLine" id="cb17-9" title="9"><span class="co">#&gt; 6      rm -0.240100667 8.181572362      rm=6.421</span></a></code></pre></div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>

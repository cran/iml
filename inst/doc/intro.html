<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Introduction to iml: Interpretable Machine Learning in R</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Introduction to iml: Interpretable Machine Learning in R</h1>



<p>Machine learning models usually perform really well for predictions, but are not interpretable. The iml package provides tools for analysing any black box machine learning model:</p>
<ul>
<li><p>Feature importance: Which were the most important features?</p></li>
<li><p>Feature effects: How does a feature influence the prediction? (Accumulated local effects, partial dependence plots and individual conditional expectation curves)</p></li>
<li><p>Explanations for single predictions: How did the feature values of a single data point affect its prediction? (LIME and Shapley value)</p></li>
<li><p>Surrogate trees: Can we approximate the underlying black box model with a short decision tree?</p></li>
<li><p>The iml package works for any classification and regression machine learning model: random forests, linear models, neural networks, xgboost, etc.</p></li>
</ul>
<p>This document shows you how to use the iml package to analyse machine learning models.</p>
<p>If you want to learn more about the technical details of all the methods, read chapters from: <a href="https://christophm.github.io/interpretable-ml-book/agnostic.html" class="uri">https://christophm.github.io/interpretable-ml-book/agnostic.html</a></p>
<div id="data-boston-housing" class="section level2">
<h2>Data: Boston Housing</h2>
<p>We’ll use the <code>MASS::Boston</code> dataset to demonstrate the abilities of the iml package. This dataset contains median house values from Boston neighbourhoods.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">data</span>(<span class="st">&quot;Boston&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;MASS&quot;</span>)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">head</span>(Boston)</a></code></pre></div>
<pre><code>#&gt;      crim zn indus chas   nox    rm  age    dis rad tax ptratio  black lstat
#&gt; 1 0.00632 18  2.31    0 0.538 6.575 65.2 4.0900   1 296    15.3 396.90  4.98
#&gt; 2 0.02731  0  7.07    0 0.469 6.421 78.9 4.9671   2 242    17.8 396.90  9.14
#&gt; 3 0.02729  0  7.07    0 0.469 7.185 61.1 4.9671   2 242    17.8 392.83  4.03
#&gt; 4 0.03237  0  2.18    0 0.458 6.998 45.8 6.0622   3 222    18.7 394.63  2.94
#&gt; 5 0.06905  0  2.18    0 0.458 7.147 54.2 6.0622   3 222    18.7 396.90  5.33
#&gt; 6 0.02985  0  2.18    0 0.458 6.430 58.7 6.0622   3 222    18.7 394.12  5.21
#&gt;   medv
#&gt; 1 24.0
#&gt; 2 21.6
#&gt; 3 34.7
#&gt; 4 33.4
#&gt; 5 36.2
#&gt; 6 28.7</code></pre>
</div>
<div id="fitting-the-machine-learning-model" class="section level2">
<h2>Fitting the machine learning model</h2>
<p>First we train a randomForest to predict the Boston median housing value:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">set.seed</span>(<span class="dv">42</span>)</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">library</span>(<span class="st">&quot;iml&quot;</span>)</a>
<a class="sourceLine" id="cb3-3" title="3"><span class="kw">library</span>(<span class="st">&quot;randomForest&quot;</span>)</a>
<a class="sourceLine" id="cb3-4" title="4"><span class="kw">data</span>(<span class="st">&quot;Boston&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;MASS&quot;</span>)</a>
<a class="sourceLine" id="cb3-5" title="5">rf &lt;-<span class="st"> </span><span class="kw">randomForest</span>(medv <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> Boston, <span class="dt">ntree =</span> <span class="dv">50</span>)</a></code></pre></div>
</div>
<div id="using-the-iml-predictor-container" class="section level2">
<h2>Using the iml Predictor() container</h2>
<p>We create a <code>Predictor</code> object, that holds the model and the data. The iml package uses R6 classes: New objects can be created by calling <code>Predictor$new()</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">X &lt;-<span class="st"> </span>Boston[<span class="kw">which</span>(<span class="kw">names</span>(Boston) <span class="op">!=</span><span class="st"> &quot;medv&quot;</span>)]</a>
<a class="sourceLine" id="cb4-2" title="2">predictor &lt;-<span class="st"> </span>Predictor<span class="op">$</span><span class="kw">new</span>(rf, <span class="dt">data =</span> X, <span class="dt">y =</span> Boston<span class="op">$</span>medv)</a></code></pre></div>
</div>
<div id="feature-importance" class="section level2">
<h2>Feature importance</h2>
<p>We can measure how important each feature was for the predictions with <code>FeatureImp</code>. The feature importance measure works by shuffling each feature and measuring how much the performance drops. For this regression task we choose to measure the loss in performance with the mean absolute error (‘mae’), another choice would be the mean squared error (‘mse’).</p>
<p>Once we create a new object of <code>FeatureImp</code>, the importance is automatically computed. We can call the <code>plot()</code> function of the object or look at the results in a data.frame.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">imp &lt;-<span class="st"> </span>FeatureImp<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">loss =</span> <span class="st">&quot;mae&quot;</span>)</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">library</span>(<span class="st">&quot;ggplot2&quot;</span>)</a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw">plot</span>(imp)</a></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">imp<span class="op">$</span>results</a></code></pre></div>
<pre><code>#&gt;    feature importance.05 importance importance.95 permutation.error
#&gt; 1    lstat      4.279573   4.319557      4.472846          4.256962
#&gt; 2       rm      3.417665   3.618382      3.688525          3.565948
#&gt; 3      nox      1.722472   1.768450      1.819108          1.742823
#&gt; 4      dis      1.671851   1.693488      1.737995          1.668948
#&gt; 5     crim      1.637251   1.675498      1.742655          1.651219
#&gt; 6  ptratio      1.382781   1.430746      1.453327          1.410013
#&gt; 7    indus      1.424897   1.428523      1.467602          1.407822
#&gt; 8      tax      1.355236   1.391597      1.418833          1.371431
#&gt; 9      age      1.366735   1.376383      1.423154          1.356438
#&gt; 10   black      1.206951   1.227470      1.231089          1.209683
#&gt; 11     rad      1.099953   1.105950      1.134719          1.089924
#&gt; 12    chas      1.031814   1.044732      1.051500          1.029593
#&gt; 13      zn      1.037289   1.040113      1.045245          1.025041</code></pre>
</div>
<div id="feature-effects" class="section level2">
<h2>Feature effects</h2>
<p>Besides knowing which features were important, we are interested in how the features influence the predicted outcome. The <code>FeatureEffect</code> class implements accumulated local effect plots, partial dependence plots and individual conditional expectation curves. The following plot shows the accumulated local effects (ALE) for the feature ‘lstat’. ALE shows how the prediction changes locally, when the feature is varied. The marks on the x-axis indicates the distribution of the ‘lstat’ feature, showing how relevant a region is for interpretation (little or no points mean that we should not over-interpret this region).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">ale &lt;-<span class="st"> </span>FeatureEffect<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">feature =</span> <span class="st">&quot;lstat&quot;</span>)</a>
<a class="sourceLine" id="cb8-2" title="2">ale<span class="op">$</span><span class="kw">plot</span>()</a></code></pre></div>
<pre><code>#&gt; Warning in grid.Call.graphics(C_segments, x$x0, x$y0, x$x1, x$y1, x$arrow):
#&gt; semi-transparency is not supported on this device: reported only once per page</code></pre>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>If we want to compute the partial dependence curves on another feature, we can simply reset the feature:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1">ale<span class="op">$</span><span class="kw">set.feature</span>(<span class="st">&quot;rm&quot;</span>)</a>
<a class="sourceLine" id="cb10-2" title="2">ale<span class="op">$</span><span class="kw">plot</span>()</a></code></pre></div>
<pre><code>#&gt; Warning in grid.Call.graphics(C_segments, x$x0, x$y0, x$x1, x$y1, x$arrow):
#&gt; semi-transparency is not supported on this device: reported only once per page</code></pre>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="measure-interactions" class="section level2">
<h2>Measure interactions</h2>
<p>We can also measure how strongly features interact with each other. The interaction measure regards how much of the variance of <span class="math inline">\(f(x)\)</span> is explained by the interaction. The measure is between 0 (no interaction) and 1 (= 100% of variance of <span class="math inline">\(f(x)\)</span> due to interactions). For each feature, we measure how much they interact with any other feature:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1">interact &lt;-<span class="st"> </span>Interaction<span class="op">$</span><span class="kw">new</span>(predictor)</a></code></pre></div>
<pre><code>#&gt; 
#&gt; Attaching package: &#39;withr&#39;</code></pre>
<pre><code>#&gt; The following objects are masked from &#39;package:rlang&#39;:
#&gt; 
#&gt;     local_options, with_options</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">plot</span>(interact)</a></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>We can also specify a feature and measure all it’s 2-way interactions with all other features:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1">interact &lt;-<span class="st"> </span>Interaction<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">feature =</span> <span class="st">&quot;crim&quot;</span>)</a>
<a class="sourceLine" id="cb16-2" title="2"><span class="kw">plot</span>(interact)</a></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAKgCAMAAABz4j/3AAAAD1BMVEUAAAAzMzNNTU3r6+v///+EK80uAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAZ1UlEQVR4nO2dC3ui2BYFyRn//2+edOQpoICH5Spc+94viY+uKU01SvdMdnPLZIyn+bRAJvNsEmjGehJoxnoSaMZ6EmjGehJoxnrODPS/1Xly08EBEAGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2IewMtB+5R3xpNBCgaEesHOp/61mgiQFFNbJpm9ddtDrSU8hfo36f2UnthfOu/hNsPCVQDxBObZr3QzYHe+/srsgyXRv8f3/qXcV/oMetjAyACFLXEpnlS6K5Ah05vfaBLtw7R3n5+Zx3aZDLdPO9vb6ClfU0vS7eWab2HflsdHAARoMg/gg4H0rJ8awLVAfHEJ33ufw/6+Kks35pAdUA+cb3PA2fx/Ut8d1bUX06gnwFemrg90ONT3xpNBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCLWD7TMrqlvjSYCFI2I9QOdT31rNBGgWIU43RCrCrS0K+L/lsfev7r1l//del8jO94lm0BPBnoSH3ZsywIti3u3u8ul+3RfhpxAFUBLYtNMC9UdQcdBtofT/nA5X8f98zvrtCZz8dmY1es5K9B/8+S3x8HfVmgiQPEyR9A+wwT6QaAncdrnZwIdTpKWuk2gIqApsfnQWXz32j6cxfeXE+hHgJcm7g30yNS3RhMBikbEBConAhSNiAlUTgQoGhETqJwIUDQiJlA5EaBoREygciJA0YiYQOVEgKIRMYHKiQBFI2IClRMBikbEBConAhSNiAlUTgQoGhETqJwIUDQiJlA5EaBoREygciJA0YiYQOVEgKIRMYHKiQBFI2IClRMBikbEBConAhSNiAlUTgQoGhETqJwIUDQiJlA5EaBoREygciJA0YiYQOVEgKIRMYHKiQBFI2IClRMBikbEBConAhSNiAlUTgQoGhETqJwIUDQiJlA5EaBoREygciJA0YiYQOVEgKIRMYHKiQBFI2IClRMBikbEBConAhSNiAlUTgQoGhETqJwIUDQiJlA5EaBoREygciJA0YiYQOVEgKIRMYHKiQBFI2IClRMBikbEBConAhSNiPUDLbNr6lujiQBFI2L9QOdT3xpNlCtOt7rWIB4YVaD3pbH/9sQPK2SH68t9tWyZ7JJNoCcDXxAf9mJXIB4ZUaCjdcazrfHDlf/yLdl2rAI+JzbNgUJ9nsa9R9DbpMdbd6Ass37b635+Zx3VZFSz/fvrOTte4scHzO41fjXQf1P/txWamCPorl+3L9DpobNMrk+gHwLmPehSoKMD6VK4CVQHzFn8uND72c/kLP7hqwQqBl6auDfQ6cF029S3RhMBikbEY4EOr+0J9PPASxOPBTr6E/oE+nHgpYkHA9019a3RRICiETGByokARSNiApUTAYpGxAQqJwIUjYgJVE4EKBoRE6icCFA0IiZQORGgaERMoHIiQNGImEDlRICiETGByokARSNiApUTAYpGxAQqJwIUjYgJVE4EKBoRE6icCFA0IiZQORGgaERMoHIiQNGImEDlRICiETGByokARSNiApUTAYpGxAQqJwIUjYgJVE4EKBoRE6icCFA0IiZQORGgaERMoHIiQNGImEDlRICiETGByokARSNiApUTAYpGxAQqJwIUjYgJVE4EKBoRE6icCFA0IiZQORGgaERMoHIiQNGImEDlRICiETGByokARSNiApUTAYpGxAQqJwIUjYgJVE4EKBoRE6icCFA0IiZQORGgaETc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BCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEd8OtLy8IoGeDLw0sX6g86lvjSYCFI2I+wMd7ZK9lWEfd+kWy5buLp8O9Pj+2DVinfH55hOIBwKdrt2ebunurxzS/VSgb2zgXiFWGp9vPoF45Ajafy79xTLcZrKOu2kqFZpAP0o8GGgpZVugP7+zzmpOn80PK+M9+wIdQswR9PPASxPfDbSU8ZVGgeY96DWIxwL9O2kv3Vl8uQ1n8T6B5iz+EsT9ge6f+tZoIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohFxc6Dl8VLZdMcEej7w0sTjgW6f+tZoIkDRiPg60PK30fi+Pbb9otsl266Qvd2GZbLtdtnJEba+9SZilslegbgh0GF98dLC7elX/R3bgj8YaNZxX4K45Qj6uF/7MdD+o9M67qapVGgC/Shxd6CllD2B/vzOKvrWnD7r/+wMarYGuvQSf8sR9KPASxM3BDrrcSXQpXeonws070GvQdxyBL2foJf+Jf7WnwN15+6Tr0wCzVn8JYhbAn136lujiQBFI2IClRMBikbEBConAhSNiK8DfX/qW6OJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiFg/0PlepfrWaCJA0YhYP9D51LdGEwGKRsSDgZb2f/3xslsm21453iUrDLTS/tjJJNCPEo8GWu77j8tos3EZVnf365C1gdbawD2ZBPpR4uEj6HTpdlm4Wh5o05xRaAL9KPHsQH9+Zx3TnDH7HkmGMTmCrk2OoB8lVgy0fDrQvAe9ILFGoH8X2rP4jwaas/jrEQ8GumvqW6OJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQEKicCFI2ICVROBCgaEROonAhQNCImUDkRoGhETKByIkDRiJhA5USAohExgcqJAEUjYgKVEwGKRsQjgZadt9a3RhMBikbE+oHOp741mghQNCIeCPRvb+z9w5Brt0y23NfIjnfJnhfowu5Yn2dWB7w08UCgS3u3u8ul+1TK+duOl7Zv+zyzOuCliQcD7T6VMr9KtY67aRYK9XlmdcBLE48GWtrX9FeB/vzOOqmpMDvEM9x55yX+liPoR4GXJr4V6HCSVG7zbvMeVAS8NPFQoO1ZfGnbbF/y1UfQnMV/A/FIoHunvjWaCFA0IiZQORGgaERMoHIiQNGImEDlRICiETGByokARSNiApUTAYpGxAQqJwIUjYgJVE4EKBoRE6icCFA0IiZQORGgaERMoHIiQNGImEDlRICiETGByokARSNiApUTAYpGxAQqJwIUjYgJVE4EKBoRE6icCFA0IiZQORGgaERMoHIiQNGImEDlRICiETGByokARSNiApUTAYpGxAQqJwIUjYgJVE4EKBoRE6icCFA0IiZQORGgaERMoHIiQNGImEDlRICiETGByokARSNiApUTAYpGxAQqJwIUjYgJVE4EKBoRE6icCFA0IiZQORGgaERMoHIiQNGImEDlRICiETGByokARSNiApUTAYpGxAQqJwIUjYgJVE4EKBoRE6icCFA0IiZQORGgaESsH2iZXVPfGk0EKBoR6wc6nzesF7Zxvng8++7+CSJA0Yh4MND7uvjS74vvl8mW+xrZ8S7ZNwJd2mf84vHsuvdHiABFI+LBQG/3fcaTzcajK/7KfX/b8eJG+BePZ8+dP0MEKBoRDwc62r7df1xYx/3zO+uQZtPsVctccPZWULoPLwL9N4d/W+UIGqJ1oHkPGuLBQIcsJ1/VDjRn8V9PPBpoexY/ZFlGb0rrBbr/8fgTAYpGxIOB7pr61mgiQNGImEDlRICiETGByokARSNiApUTAYpGxAQqJwIUjYgJVE4EKBoRE6icCFA0IiZQORGgaERMoHIiQNGImEDlRICiETGByokARSNiApUTAYpGxAQqJwIUjYgJVE4EKBoRE6icCFA0IiZQORGgaERMoHIiQNGImEDlRICiETGByokARSNiApUTAYpGxAQqJwIUjYgJVE4EKBoRE6icCFA0IiZQORGgaERMoHIiQNGImEDlRICiEVER6Po8+cmMNgNwBCi+7ZhA1wbgCFBMoKcNwBGgmEBPG4AjQBEaaCazcRJoxnoSaMZ61IGWhw1LhjMSMzWEPY1vKYoDnf10e78ZKbp+72FP4+0dxQT6OGMxS8Hb45NnaVlLMYE+Di5QT8nJ05iX+IpDC9TUMUfQswbwzR87AhRvCbTmsAJ1NcxJ0mmTQKsMNNDxZjrXP8QZFI2//Z1jKa7PY6XvdP4mKWM9CTRjPQk0Yz0JNGM9CTRjPQk0Yz0JdP80v/P09u5p3frkHv4mfMF37wseYu35V+fTQhcCfXL35tmtm/4xl54veIiV597mznKeB3rsxgSaWZqm+9SFen/B/3e56b4cjqBNe8BdvF93bXMbfml/bP674e/G8a+9/0NbyPjuV52rP7760wd6D+fWJdnG0jwE2oyvWrrf9A6TtwfNiDCGNaOvrv4dvPjDO2GmgQ7x3IZD6uQIunq/8RXN9O63OWGKmDKvPBd/eCfMLND7q3P72tuMGnyI6fF+Y9BCoON3C6Nfm0Azz2fUVTM6UWlfcJ8fQSf3ex7orX93OvlnJtDMixmdxXdFnvUSPwk0R9DMthn+HLQ/ZI5yeRbo9H6T86fh1pVAp+dKY5L8CZDOxR/eKdP/TVKXaX+Qu6ezFGizdL+mS7Vnjl/Pm/5dxOTX9gLDnyBceS7+8C47X/N9+5oHeqH5guPmMF/zQK80L/5llUvN9zzSDHISaMZ6EmjGehJoxnoSaMZ6EmjGehJoxnoSaMZ6/gfODwwHeilIHwAAAABJRU5ErkJggg==" style="display: block; margin: auto;" /></p>
<p>You can also plot the feature effects for all features at once:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1">effs &lt;-<span class="st"> </span>FeatureEffects<span class="op">$</span><span class="kw">new</span>(predictor)</a>
<a class="sourceLine" id="cb17-2" title="2"><span class="kw">plot</span>(effs)</a></code></pre></div>
<pre><code>#&gt; Warning in grid.Call.graphics(C_segments, x$x0, x$y0, x$x1, x$y1, x$arrow):
#&gt; semi-transparency is not supported on this device: reported only once per page</code></pre>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="surrogate-model" class="section level2">
<h2>Surrogate model</h2>
<p>Another way to make the models more interpretable is to replace the black box with a simpler model - a decision tree. We take the predictions of the black box model (in our case the random forest) and train a decision tree on the original features and the predicted outcome. The plot shows the terminal nodes of the fitted tree. The maxdepth parameter controls how deep the tree can grow and therefore how interpretable it is.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1">tree &lt;-<span class="st"> </span>TreeSurrogate<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">maxdepth =</span> <span class="dv">2</span>)</a></code></pre></div>
<pre><code>#&gt; Loading required package: partykit</code></pre>
<pre><code>#&gt; Loading required package: libcoin</code></pre>
<pre><code>#&gt; Loading required package: mvtnorm</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" title="1"><span class="kw">plot</span>(tree)</a></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>We can use the tree to make predictions:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" title="1"><span class="kw">head</span>(tree<span class="op">$</span><span class="kw">predict</span>(Boston))</a></code></pre></div>
<pre><code>#&gt; Warning in self$predictor$data$match_cols(data.frame(newdata)): Dropping
#&gt; additional columns: medv</code></pre>
<pre><code>#&gt;     .y.hat
#&gt; 1 27.09989
#&gt; 2 27.09989
#&gt; 3 27.09989
#&gt; 4 27.09989
#&gt; 5 27.09989
#&gt; 6 27.09989</code></pre>
</div>
<div id="explain-single-predictions-with-a-local-model" class="section level2">
<h2>Explain single predictions with a local model</h2>
<p>Global surrogate model can improve the understanding of the global model behaviour. We can also fit a model locally to understand an individual prediction better. The local model fitted by <code>LocalModel</code> is a linear regression model and the data points are weighted by how close they are to the data point for wich we want to explain the prediction.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" title="1">lime.explain &lt;-<span class="st"> </span>LocalModel<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">x.interest =</span> X[<span class="dv">1</span>, ])</a></code></pre></div>
<pre><code>#&gt; Loading required package: glmnet</code></pre>
<pre><code>#&gt; Loading required package: Matrix</code></pre>
<pre><code>#&gt; Loading required package: foreach</code></pre>
<pre><code>#&gt; 
#&gt; Attaching package: &#39;foreach&#39;</code></pre>
<pre><code>#&gt; The following objects are masked from &#39;package:purrr&#39;:
#&gt; 
#&gt;     accumulate, when</code></pre>
<pre><code>#&gt; Loaded glmnet 2.0-18</code></pre>
<pre><code>#&gt; 
#&gt; Attaching package: &#39;glmnet&#39;</code></pre>
<pre><code>#&gt; The following object is masked from &#39;package:Metrics&#39;:
#&gt; 
#&gt;     auc</code></pre>
<pre><code>#&gt; Loading required package: gower</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" title="1">lime.explain<span class="op">$</span>results</a></code></pre></div>
<pre><code>#&gt;               beta x.recoded    effect x.original feature feature.value
#&gt; rm       4.4836483     6.575 29.479987      6.575      rm      rm=6.575
#&gt; ptratio -0.5244767    15.300 -8.024493       15.3 ptratio  ptratio=15.3
#&gt; lstat   -0.4348698     4.980 -2.165652       4.98   lstat    lstat=4.98</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" title="1"><span class="kw">plot</span>(lime.explain)</a></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" title="1">lime.explain<span class="op">$</span><span class="kw">explain</span>(X[<span class="dv">2</span>, ])</a>
<a class="sourceLine" id="cb40-2" title="2"><span class="kw">plot</span>(lime.explain)</a></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="explain-single-predictions-with-game-theory" class="section level2">
<h2>Explain single predictions with game theory</h2>
<p>An alternative for explaining individual predictions is a method from coalitional game theory named Shapley value. Assume that for one data point, the feature values play a game together, in which they get the prediction as a payout. The Shapley value tells us how to fairly distribute the payout among the feature values.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" title="1">shapley &lt;-<span class="st"> </span>Shapley<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">x.interest =</span> X[<span class="dv">1</span>, ])</a>
<a class="sourceLine" id="cb41-2" title="2">shapley<span class="op">$</span><span class="kw">plot</span>()</a></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>We can reuse the object to explain other data points:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" title="1">shapley<span class="op">$</span><span class="kw">explain</span>(<span class="dt">x.interest =</span> X[<span class="dv">2</span>, ])</a>
<a class="sourceLine" id="cb42-2" title="2">shapley<span class="op">$</span><span class="kw">plot</span>()</a></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAKgCAMAAABz4j/3AAAAElBMVEUAAAAzMzNNTU1ZWVnr6+v///+IMxJiAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAXH0lEQVR4nO3di3rqsBWEUepTv/8rt1GQvCVvEeOLNLL/aXsg3MagFRlDv+g1EyKcV+8NIORTAEqkA1AiHYAS6QCUSAegRDqtgb62F355U+/mXzwE0YwA0JqiY0DDj5se4vWKN1vOOZsA9i5p/KqvCMynAd1579dvsnPmGvvT5s0h5wWgr/jvci5e88p/2Lw55Ly0fdXtrvg9/u9py+hYZrTlXtFHvGWxW7a+vEd9WYbevt9K9C5Oj0UapxvQVzJUAH1fmOkwu+HZ+Muuy3bT9lGLe+ePnRpW5+L2FNtN2qbpq253ostEZqY0Ay0Hutzs5T7Cy3/A1T/+kVPNJ0D7pxfQ7PAjv2q24syl5fvEbDpeISqde+8y000rPu19AdonjYHave1y6VzYff0JtLjNIaB1n+spn7ROy1f99VrJ+r14tgheK20fiJ0A9IPP4vcBoR3SFuhy+gloeZNLgX7yCdD+6QW0fhDjAc1vtrpg+0GS3Yx8o9x9uL0In13S8FXPKdi3o/HHtIv/9DGTuSS7zv4452jze+dTrX2A2rvf1XnSLN2AzstOcw1qtYuPt10m4eyc3X/bRy0uA+h4GeFVh8aDM8LYA/TBGWHsAfrgjDD2AH1wGHsindZAG82Gxaf2revJaXkOUPs56l93Xn+aNdvPU4sryIVp/DK3Gtg/vhX6fNfiS4D1FeU15LoA1L+d89W990U/uTptX+Ry2Jf56P3T8q1nuiK/zZxumN3nz6+WXq/iwQxDT5vzFf3Hb+3JRREAar8qf38PX37Pvtzm/TDFfcz1xReW8ScLtLh3/u1mavDOZV+ZkhZp+lJnKuNZdy6r3ub9OOY2L+eBLdDP//j7as/nyvU5rwn5nF5A55xQcdhtJ7X6u0FvPi6u8t431h83qy/O5fQ5RmqVxkDz3WSxIzfvPFeQMhIOMfdOO4H6Ps3DsKNvl5Yv8utloBUz6DwbbBVIc35D18oJQD/6BGjjtAVqT1/v8jXQuSvQqs/yfQRAW6Qj0OWwe16Nu/3nZW8z53eZy8fI7uQ92vqfFdD1ueVHb3PIhWn4IrtT5Zz2/Bab/WzJnp2zexglq1suQM0VzmVxQ+zGLQ9QeaiZg6RmEQBq5tL4o51k8/k23r+4j7k+3clYSq3FZV8BNQ+Vbw65MPovc+VAhTwjykNdfacH0OdEeajzN57ZFe03hvSJ9lBX3ukB9DlhqIl0AEqkA1AiHYAS6QCUSAegRDoAJdJpCPS/3+b7e1AxbENZAVAqpBoASoV0A0CpkG4AKBXSDQClQroBoFRINwDUzT/SN9XRBmhI7/F5fKqjDdCQ3uPz+FRHG6Ahvcfn8amONkBDeo/P41MdbYCG9B6fx6c62gAN6T0+j091tAEa0nt8Hp/qaAM0pPf4PD7V0QZoSO/xeXyqow3QkN7j8/hURxugIb3H5/GpjjZAQ3qPz+NTHW2AhvQen8enOtoADek9Po9PdbT3Ap1WZ8y5eZpW1y/Xfq0HoPdPdbQvATqln5LUCaDkQ6qjfQToD7op/6cEmqAyg5JPqY72AaD2v/EEoGRXqqN9DOgC8U11+p1Hp2U6nbJb/+f/+bKpSXqPz+Pz5wjt3cXPi8dpdYN0w3lmBiWfUh3tI0DXu/hpmTozoOZygBIn1dE+APSb96DMoORjqqN9AOh7F/8+gJ/sJ0lT2vsDlGxJdbT3Aj2Qr/UA9P6pjjZAQ3qPz+NTHW2AhvQen8enOtoADek9Po9PdbQBGtJ7fB6f6mgDNKT3+Dw+1dEGaEjv8Xl8qqMN0JDe4/P4VEcboCG9x+fxqY42QEN6j8/jUx1tgIb0Hp/HpzraAA3pPT6PT3W0ARrSe3wen+poAzSk9/g8PtXRBmhI7/F5fKqjDVAqpBoASoV0A0CpkG4AKBXSDQB1c+rb/G7PAqAABWjjCoCGAFSlAaBuAKrSAFA3AFVpAKgbgKo0ANQNQFUaAOoGoCoNAHUDUJUGgLoBqEoDQN0AVKUBoG4AqtIAUDcAVWkAqBuAqjQA1A1AVRoA6gagKg0nAF0tNzNVbmPX/Lj/UogCzwKgPtD1Lcq1ZLOFko5u8hUBqErDEaCTXdLDrNA55SYtW7NoEkAvz+OBLisj5ct3lWvJOasksYsH6K6Kr4BakvGSfC2v+K7TW27u58yN1+rs/RRunh1A0wqd9Rl0BfQnR3+nrsgJQAWeBTNo6fHrGRSgV+bxQFcT5h8zaHYsD9DL83igaXXOuIv/vah6FG8+Y+IgCaC7Kr4DekqObvIVAahKA0DdAFSlAaBuAKrSwP9ZxA1AVRoA6gagKg0AdQNQlQaAugGoSgNA3QBUpQGgbgCq0gBQNwBVaQCoG4CqNADUDUBVGgDqBqAqDQB1A1CVBoC6AahKA0CpkG4AKBXSDQClQroBoFRINwDUzaWHR78B6K4KgIYAVKUBoG4AqtIAUDcAVWkAqBuAqjQA1A1AVRoA6gagKg0AdQNQlQaAugGoSgNA3QBUpQGgbgCq0gBQNwBVaQCoG4CqNADUDUBVGgDqBqAqDRcDtX/qezIX3PpPgG+rAOiuinOB2sUSpnylhRsvorCtAqC7KnYAfa+lMMdlkvzVPKb8B4ACdFfFHqD50kj2T4M7QO1ECtBrA1CrMMF7LzMzZbvyabkyXg/QqwPQKtD8qmylr2zVuVuu1dl74x+R3UAnuwbiAnQ1pbKLv/YZtKkYbwatHiSV6yUC9Npn0KZiJKDeUfz7806zECKfg8YAdFfFDqBHc3STrwhAVRoA6gagKg0AdQNQlQaAugGoSgNA3QBUpQGgbgCq0gBQNwBVaQCoG4CqNADUDUBVGgDqBqAqDQB1A1CVBoC6AahKA0DdAFSlAaBuAKrSAFA3AFVpACgV0g0ApUK6AaBUSDcAlArpBoBSId0AUDffHZDvCkB3VQA0BKAqDQB1A1CVBoC6AahKA0DdAFSlAaBuAKrSAFA3AFVpAKgbgKo0ANQNQFUaAOoGoCoNAHUDUJUGgLoBqEoDQN0AVKUBoG4AqtIAUDcAVWk4HehUu3yyq3uM8jfqL6wA6K6Kq4CaBWnmgVb5uLACoLsqjgL9XerDWe8jsZzMTwC9NAD1hPqrds5JbLmOF0AHrhgTaDyxq3YuM+pkb6a+FGLv7SC1HAL6NmlX7cyX7Mym1qO/U1eEGVSl4fJdvFmkM1+yE6CXB6CfgK5X7VzOARSgOyuOA30fxU8F0LRCfPbGFKBXBqCn5OgmXxGAqjQA1A1AVRoA6gagKg0AdQNQlQaAugGoSgNA3QBUpQGgbgCq0gBQNwBVaQCoG4CqNADUDUBVGgDqBqAqDQB1A1CVBoC6AahKA0DdAFSlAaBuAKrSAFAqpBsASoV0A0CpkG4AKBXSDQB18u/fLfQAFKAHcosKgG7Y5PMDUJ0GgDoBqE4DQJ0AVKcBoE4AqtMAUCcA1WkAqBOA6jQA1AlAdRoA6gSgOg0AdQJQnQaAOgGoTgNAnQBUpwGgTgCq0wBQJwDVaQCoE4DqNFwItLZqZ7hOeq1OgOo09AEqvlYnQHUaLgH6XscrrvQRTwBqc4uKMYHGhbymebWsF0BTblExLtBcYb7UnLlKc61O1ujUz4lAnZU7mUGZQXdWnA90wTitZ1CAjl0xLtDJOeE9qM0tKsYEmo7i0y4+HjMVtwDo6BWDAv0uRzf5/ABUpwGgTgCq0wBQJwDVaQCoE4DqNADUCUB1GgDqBKA6DQB1AlCdBoA6AahOA0CdAFSnAaBOAKrTAFAnANVpAKgTgOo0ANQJQHUaAOoEoDoNAHUCUJ0GgFIh3QBQKqQbAEqFdANAqZBuAGiZfz+5hR6AAvRAblEB0A2bfHIAKtUA0DIAlWoAaBmASjUAtAxApRoAWgagUg0ALQNQqQaAlgGoVANAywBUqgGgZQAq1QDQMgCVagBoGYBKNQC0DEClGgBaBqBSDZ2ACv8JcIBKNfQBqryIAkClGq4HGheeGWWdJIBKNTSZQZd1EQGacouKewA1a9IMsJAXQKUaGgCdLNKcrOJanb9AiXguAsoMmnKLijvMoGmdTt6DZrlFxS2ArudMPgf9L0B3VpwP9M8c3eSTA1CpBoCWAahUA0DLAFSqAaBlACrVANAyAJVqAGgZgEo1ALQMQKUaAFoGoFINAC0DUKkGgJYBqFQDQMsAVKoBoGUAKtUA0DIAlWoAaBmASjUAtAxApRoAWgagUg0ApUK6AaBUSDcAlArpBoBSId0A0JR/JrfQA1CAHsgtKgC6YZPPCkAVGwCaAlDFBoCmAFSxAaApAFVsAGgKQBUbAJoCUMUGgKYAVLEBoCkAVWwAaApAFRsAmgJQxQaApgBUsQGgKQBVbABoCkAVG3YDnbKT1eXxp9+/RZ+fzJp/ox6gig3XAo2Lz2Qns+gqHwBVbDgAdEoryNn5cVpNohnQDC5AR69QBjpFdOU0OZU3M1eZeRegN6hQBprNiuZcnE0zjL9rJdlbTQC9QcUYQJeluhLQ4oaznWPt5UprdWZAiXi+AFrOpdFsTtIH+pOjv1NnhRlUseGC96DrgyGO4p3cokIZaH4UP5mjeCvU+RzUHPgDdPAKYaDn5egmnxWAKjYANAWgig0ATQGoYgNAUwCq2ADQFIAqNgA0BaCKDQBNAahiA0BTAKrYANAUgCo2ADQFoIoNAE0BqGIDQFMAqtgA0BSAKjYANAWgig0ATQGoYgNAqZBuACgV0g0ApUK6AaBUSDcAlArpBoDG/OMoXrEBoDEAlWwAaAxAJRsAGgNQyQaAxgBUsgGgMQCVbABoDEAlGwAaA1DJBoDGAFSyAaAxAJVsAGgMQCUbABoDUMkGgMYAVLIBoDEAlWwAaAxAJRvOALpaXC5e+nua/X36uECSucPRTT4pAJVsOAmoc2G+qFyxIM0E0FtUDAD0vcKHIflWuAZqOQP0FhX6QJcVDvMd/RqonVIBCtCdFTuAZjqXJebMe1C7TmfGVGkpxBwoEc/3QO0uPl/NK3sPmgP9ydHfqZPCDCrZcN4MOsfDn593pZNdzhigXm5RMQRQ9z1oJtEAnfJrATp2hT7Q2lG8IZkv1wnQd25RMQDQ4zm6yScFoJINAI0BqGQDQGMAKtkA0BiASjYANAagkg0AjQGoZANAYwAq2QDQGIBKNgA0BqCSDQCNAahkA0BjACrZANAYgEo2ADQGoJINAI0BqGQDQGMAKtkAUCqkGwBKhXQDQKmQbgAoFdINAA35V+QWegAK0AO5RQVAN2zyGQGoagNAQwCq2gDQEICqNgA0BKCqDQANAahqA0BDAKraANAQgKo2ADQEoKoNAA0BqGoDQEMAqtoA0BCAqjYANASgqg0ADQGoasMhoN4Sc8viCe4aiPFqsT8BDlDVhrNn0GWhBH8NxFlzKUSAqjbsAPqeCuf36gnlCnMF0Dm7IJ0C9BYVikDTJBhPpslw84DmTNnF/+YWFapAjdP037QGYgm0XLqLGTTkFhUDAa3OoKuVkSxQlbU6V0CJeE6bQdcumUFDblGhOoNO22fQfAIFaMotKhSBpqN4F6i9Nv8A1F4NUIDurNgA9Owc3eQzAlDVBoCGAFS1AaAhAFVtAGgIQFUbABoCUNUGgIYAVLUBoCEAVW0AaAhAVRsAGgJQ1QaAhgBUtQGgIQBVbQBoCEBVGwAaAlDVBoCGAFS1AaAhAFVtAGgIQFUbAEqFdANAqZBuACgV0g0ApUK64aFAy4MiDpJUGwAKUOkGgAJUugGgAJVuAChApRsAClDpBoACVLoBoACVbgAoQKUbAApQ6QaAAlS6AaAAlW4AKEClGwAKUOkGgAJUuqEJ0HKhznwtxKObvCcAHaWh2QzqL/IF0LErRgKaFjee88ky+QRolltUDATULEszFQLj1YtagAJ0Z8VuoPNsd+Npxdk4rxYsJzPDHt3kPQHoKA2n7uIdmQvdcloN53qt1fknUCKeA7t4s/RcdQad2cXfomKgGfTje9Dy0Ij3oADdWbEbaDgCmipH8dlCneXVRzd5TwA6SsMVn4NOf9/E5ugm7wlAR2k4G+jq8yWAVnKLivGArj6hB2glt6gYEOj3ObrJewLQURoAClDpBoACVLoBoACVbgAoQKUbAApQ6QaAAlS6AaAAlW4AKEClGwAKUOkGgAJUugGgAJVueChQKkZpACgV0g0ApUK6AaBUSDcAlArphocA/euonaN41QaAAlS6AaAAlW4AKEClGwAKUOkGgAJUugGgAJVuAChApRsAClDpBoACVLoBoACVbgAoQKUbAApQ6QaAAlS6AaAAlW5oCdSuqtD4b9QDdNSGPkCbr/IB0FEbLgX6XvbDruHpcD26yVsC0FEbrgU6lesnOT4BOnDF6ECXU3fxznZLIX4NlIjnPKDZGp7ZNe8c/Z3aEmbQURsun0Hd5Y+znf3RTd4SgI7a0BCoeQ8KUIDurDgdaLGG5/uK1uvFA3TUBr5JAqh0A0ABKt0AUIBKNwAUoNINAAWodANAASrdAFCASjcAFKDSDQAFqHQDQAEq3QBQgEo3ABSg0g0ABah0A0ABKt0AUIBKNzwEKBWjNgCUCukGgFIh3QBQKqQb7gn022MiDpJkGwAKUOkGgAJUugGgAJVuAChApRsAClDpBoACVLoBoACVbgAoQKUbAApQ6QaAAlS6AaAAlW4AKEClGwAKUOkGgAJUugGgAJVuOAq0snpccaPlT9L/nrn6b9QDtFGFPtBPXJ2rzHJJAL1BhT7QsMKMXY0zLT3jzq0L0EuXQgRoo4oxgE52JSSzLhJAjz2LASrGAFo7WS/NuQC9dq3O40CJeI4CraxtXAL9ydHfKSfMoI0qxp1BZ3dxY4B+8ywGqBgM6JSfZLfKgV682jFAG1WMBDSuxrmclEDfn4BmYgE6dIU+0BNydJOdALRRBUA3bLITgDaqAOiGTXYC0EYVAN2wyU4A2qgCoBs22QlAG1UAdMMmOwFoowqAbthkJwBtVAHQDZvsBKCNKgC6YZOdALRRBUA3bLITgDaqAOiGTXYC0EYVAN2wyU4A2qgCoBs22QlAG1UAdMMmOwFoowqAbthkJwBtVAHQDZt8RahQaQAoFdINAKVCugGgVEg3KAM9fKjDQdL4DQAFqHQDQAEq3QBQgEo3ABSg0g0ABah0A0ABKt0AUIBKNwAUoNINAAWodANAASrdAFCASjcAFKDSDQAFqHQDQAEq3XAxULPi4XvxhKlcJgmgA1eMDtSulzCZBRSsW4AOXDES0On9H3d1j9+rzYUAvUXFUEB/F6CZptnu1aeFZbaILEBvUTEU0Nks0vlewWuaDMhMJkBvUTEs0PwyZ4W5LWt19gRKxHPSDDovB+/TZO0yg96i4jYzqPsDQIevGB3o+/OkbCXE1VqI1U0DqHzFSEB3p7ppAJWvAChApSsAClDpCoACVLoCoACVrgAoQKUrAApQ6QqAAlS6AqAAla4AKEClKwAKUOkKgAJUugKgAJWuAChApSsAClDpimcD3bjJV4QKlQaAUiHdAFAqpBsASoV0A0CpkG4AKBXSDQClQrpBAKhi6n/uZKTc4llUngRAb5BbPAuAernF0N7jWQDUyy2G9h7PAqBkxACUSAegRDqPBpqt8TBu7vEkKmPxZKDZHzIdNvf4LauOBUDHzx2ew08AWgSgUmEXXwagSqk8C4COnzs8h+qTAOj4ufVzAOj4ufVzeDLQm3xCcw+gU2UwHg2U6AegRDoAJdIBKJEOQIl0AEqkA9DeeWUnpAivS+8A9GN4XXqHEfgYXp5uec2vlz0hXnhduuX1SzP8j4GohdelW97zpjkh6/C6dAtAt4TXpVsAuiW8Lt0C0C3hdemWeJA0A/RDeF265fVKny8BtBpel27hpd8SXqVu4aXfEl6lbuGl3xJeJSIdgBLpAJRIB6BEOgAl0gEokQ5AiXQASqTzP4uq98tHZTeMAAAAAElFTkSuQmCC" style="display: block; margin: auto;" /></p>
<p>The results in data.frame form can be extracted like this:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" title="1">results &lt;-<span class="st"> </span>shapley<span class="op">$</span>results</a>
<a class="sourceLine" id="cb43-2" title="2"><span class="kw">head</span>(results)</a></code></pre></div>
<pre><code>#&gt;   feature         phi      phi.var feature.value
#&gt; 1    crim -0.07903113  1.765439466  crim=0.02731
#&gt; 2      zn -0.02300933  0.006323993          zn=0
#&gt; 3   indus -0.32773478  0.666480660    indus=7.07
#&gt; 4    chas -0.00748600  0.009281726        chas=0
#&gt; 5     nox  0.30893146  0.853177388     nox=0.469
#&gt; 6      rm -0.61811926 11.016882482      rm=6.421</code></pre>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>

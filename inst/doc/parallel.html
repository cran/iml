<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">



<title>Doing model interpretation in parallel</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Doing model interpretation in parallel</h1>



<p>The <code>iml</code> package can now handle bigger datasets. Earlier problems with exploding memory have been fixed for <code>FeatureEffect</code>, <code>FeatureImp</code> and <code>Interaction</code>. It’s also possible now to compute <code>FeatureImp</code> and <code>Interaction</code> in parallel. This document describes how.</p>
<p>First we load some data, fit a random forest and create a Predictor object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">42</span>)
<span class="kw">library</span>(<span class="st">&quot;iml&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;randomForest&quot;</span>)
<span class="kw">data</span>(<span class="st">&quot;Boston&quot;</span>, <span class="dt">package  =</span> <span class="st">&quot;MASS&quot;</span>)
rf =<span class="st"> </span><span class="kw">randomForest</span>(medv <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> Boston, <span class="dt">ntree =</span> <span class="dv">500</span>)
X =<span class="st"> </span>Boston[<span class="kw">which</span>(<span class="kw">names</span>(Boston) <span class="op">!=</span><span class="st"> &quot;medv&quot;</span>)]
predictor =<span class="st"> </span>Predictor<span class="op">$</span><span class="kw">new</span>(rf, <span class="dt">data =</span> X, <span class="dt">y =</span> Boston<span class="op">$</span>medv)</code></pre></div>
<div id="going-parallel" class="section level2">
<h2>Going parallel</h2>
<p>You need to install the <code>doParallel</code> or a similar framework to compute in parallel. Before you can use parallelization to compute for example the feature importance on multiple CPU cores, you have to setup up a cluster. Fortunately, the <code>doParallel</code> makes it easy to setup and register a cluster:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;doParallel&quot;</span>)
<span class="co">#&gt; Loading required package: iterators</span>
<span class="co">#&gt; Warning: package 'iterators' was built under R version 3.4.4</span>
<span class="co">#&gt; Loading required package: parallel</span>
<span class="co"># Creates a cluster with 2 cores</span>
cl =<span class="st"> </span><span class="kw">makePSOCKcluster</span>(<span class="dv">2</span>)
<span class="co"># Registers cluster</span>
<span class="kw">registerDoParallel</span>(cl)</code></pre></div>
<p>Now we can easily compute feature importance in parallel. This means that the computation per feature is distributed among the 2 cores I specified earlier.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">imp =<span class="st"> </span>FeatureImp<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">loss =</span> <span class="st">&quot;mae&quot;</span>, <span class="dt">parallel =</span> <span class="ot">TRUE</span>)
<span class="kw">plot</span>(imp)</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>That wasn’t very impressive, let’s actually see how much speed up we get by parallelization.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">system.time</span>(FeatureImp<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">loss =</span> <span class="st">&quot;mae&quot;</span>, <span class="dt">parallel =</span> <span class="ot">FALSE</span>))
<span class="co">#&gt;    user  system elapsed </span>
<span class="co">#&gt;   2.773   0.065   1.566</span>
<span class="kw">system.time</span>(FeatureImp<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">loss =</span> <span class="st">&quot;mae&quot;</span>, <span class="dt">parallel =</span> <span class="ot">TRUE</span>))
<span class="co">#&gt;    user  system elapsed </span>
<span class="co">#&gt;   0.333   0.020   1.512</span></code></pre></div>
<p>A little bit of improvement, but not too impressive. Parallelization is more useful in the case where the model uses a lot of features or where the feature importance computation is repeated more often to get more stable results.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">system.time</span>(FeatureImp<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">loss =</span> <span class="st">&quot;mae&quot;</span>, <span class="dt">parallel =</span> <span class="ot">FALSE</span>, <span class="dt">n.repetitions =</span> <span class="dv">20</span>))
<span class="co">#&gt;    user  system elapsed </span>
<span class="co">#&gt;  11.402   0.164   9.548</span>
<span class="kw">system.time</span>(FeatureImp<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">loss =</span> <span class="st">&quot;mae&quot;</span>, <span class="dt">parallel =</span> <span class="ot">TRUE</span>, <span class="dt">n.repetitions =</span> <span class="dv">20</span>))
<span class="co">#&gt;    user  system elapsed </span>
<span class="co">#&gt;   0.276   0.020   5.745</span></code></pre></div>
<p>Here the parallel computation is twice as fast as the sequential computation of the feature importance.</p>
<p>The parallization also speeds up the computation of the interaction statistics:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">system.time</span>(Interaction<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">parallel =</span> <span class="ot">FALSE</span>))
<span class="co">#&gt;    user  system elapsed </span>
<span class="co">#&gt;  31.923   1.342  31.087</span>
<span class="kw">system.time</span>(Interaction<span class="op">$</span><span class="kw">new</span>(predictor, <span class="dt">parallel =</span> <span class="ot">TRUE</span>))
<span class="co">#&gt;    user  system elapsed </span>
<span class="co">#&gt;   0.252   0.042  17.359</span></code></pre></div>
<p>Remember to stop the cluster in the end again.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">stopCluster</span>(cl)</code></pre></div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
